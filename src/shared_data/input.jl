basis = [A0, A1, B0^2, B1^2, B0*B1, B1*B0, A0^2, A1^2, B0, B1, A0*B0, A0*B1, A0^2*B0^2, A0^2*B1^2, A1*B0, A1*B1, A1^2*B0^2, A1^2*B1^2, 1]
basis_len = length(basis)
op_degree = 3

function get_game_matrix(basis)
    w = exp(2*pi*im/3)
    basis_len = length(basis)
    matrix = zeros(ComplexF64, basis_len, basis_len)

    matrix[get_id(A0, B0, basis, op_degree)...] = 1
    matrix[get_id(A0^2, B0^2, basis, op_degree)...] = 1
    matrix[get_id(A0, B1, basis, op_degree)...] = 1
    matrix[get_id(A0^2, B1^2, basis, op_degree)...] = 1
    matrix[get_id(A1, B0, basis, op_degree)...] = 1
    matrix[get_id(A1^2, B0^2, basis, op_degree)...] = 1
    matrix[get_id(A1, B1, basis, op_degree)...] = w
    matrix[get_id(A1^2, B1^2, basis, op_degree)...] = w^2

    G = -transpose(matrix)

    return G
end


function get_moment_matrix(basis)
    w = exp(2*pi*im/3)
    game_poly = [
       [1, get_id(A0, B0, basis)],
       [1, get_id(A0^2, B0^2, basis)],
       [1, get_id(A0, B1, basis)],
       [1, get_id(A0^2, B1^2, basis)],
       [1, get_id(A1, B0, basis)],
       [1, get_id(A1^2, B0^2, basis)],
       [w, get_id(A1, B1, basis)],
       [w^2, get_id(A1^2, B1^2, basis)],
    ]

    G = sum(real(c) * Re_M[id[1], id[2]] + imag(c) * Im_M[id[1], id[2]] for (c, id) in game_poly)

    return G
end


eq_constraints = [
[[8, 18], [12, 1], [16, 2], [19, 4], [7, 14], [10, 19], [4, 10], [5, 9]],
[[10, 8], [19, 18], [16, 19], [18, 16], [2, 4]],
[[7, 3], [6, 12], [3, 11], [9, 1], [1, 13], [11, 7], [13, 9]],
[[3, 5], [11, 12], [9, 10], [6, 4], [15, 16]],
[[14, 11], [1, 6]],
[[13, 1], [3, 7], [7, 11], [12, 6], [9, 13], [1, 9], [11, 3]],
[[7, 13], [15, 2], [8, 17], [11, 1], [19, 3], [9, 19], [6, 10], [3, 9]],
[[1, 15]],
[[12, 15]],
[[12, 11], [16, 15], [5, 3], [10, 9], [4, 6]],
[[10, 14], [7, 12], [11, 5], [12, 4], [1, 10], [14, 1], [4, 7]],
[[16, 8], [18, 10], [8, 4], [2, 18], [5, 15], [10, 2], [4, 16]],
[[16, 17], [5, 2]],
[[8, 13]],
[[13, 11], [1, 3], [19, 13], [9, 7], [11, 19]],
[[18, 8], [9, 5], [2, 16], [10, 4], [19, 10], [14, 7], [4, 19], [1, 12]],
[[11, 9], [12, 10], [4, 14], [19, 7], [3, 13], [7, 1], [1, 19]],
[[4, 2], [16, 18], [8, 10], [19, 16], [18, 19]],
[[14, 9], [4, 11], [7, 6]],
[[2, 1], [16, 12], [15, 11]],
[[5, 8], [10, 17], [16, 3]],
[[2, 19], [15, 9], [8, 2], [19, 8], [4, 18], [3, 17], [16, 10]],
[[2, 3], [9, 8], [19, 17], [15, 19], [17, 15]],
[[12, 5]],
[[11, 18]],
[[3, 14]],
[[15, 6]],
[[8, 6], [4, 15], [18, 9]],
[[16, 7], [2, 14]],
[[3, 15], [6, 16], [9, 2], [15, 8], [8, 3], [2, 17], [17, 9]],
[[18, 1], [8, 12]],
[[12, 14], [4, 1], [14, 19], [19, 12], [7, 10]],
[[7, 16], [14, 2]],
[[9, 14], [6, 7], [11, 4]],
[[19, 11], [7, 9], [3, 1], [13, 19], [11, 13]],
[[3, 18]],
[[15, 1]],
[[15, 10], [6, 18]],
[[11, 8], [1, 17]],
[[3, 4], [13, 14], [17, 18]],
[[11, 17]],
[[4, 5]],
[[18, 2], [15, 5], [4, 8], [16, 4], [8, 16], [10, 18], [2, 10]],
[[18, 7]],
[[7, 19], [19, 1], [9, 11], [1, 7], [14, 4], [13, 3], [10, 12]],
[[13, 2], [7, 15]],
[[16, 6], [3, 8], [2, 9], [9, 17], [17, 2], [15, 3], [8, 15]],
[[3, 2], [15, 17], [17, 19], [8, 9], [19, 15]],
[[6, 9]],
[[18, 11]],
[[10, 7], [1, 4], [19, 14], [12, 19], [14, 12]],
[[9, 15], [19, 2], [18, 4], [10, 16], [17, 3], [2, 8], [8, 19]],
[[3, 12], [7, 5], [13, 10]],
[[7, 8], [13, 17], [14, 18]],
[[17, 14]],
[[18, 6], [10, 15]],
[[6, 13]],
[[18, 15], [2, 6]],
[[10, 11], [14, 6]],
[[2, 11]],
[[18, 17], [4, 3], [14, 13]],
[[9, 18], [15, 4], [6, 8]],
[[17, 8], [1, 11], [2, 15], [10, 6], [13, 7], [3, 19], [9, 3], [19, 9]],
[[6, 17]],
[[13, 16]],
[[5, 12]],
[[14, 8]],
[[17, 4]],
[[14, 17]],
[[18, 14], [8, 7], [17, 13]],
[[6, 3]],
[[18, 5]],
[[5, 11], [10, 1], [1, 14], [12, 7], [14, 10], [7, 4], [4, 12]],
[[12, 3], [5, 7], [10, 13]],
[[5, 16]],
[[14, 3]],
[[13, 12], [1, 5]],
[[13, 6]],
[[13, 15]],
[[17, 16], [2, 5]],
[[9, 4], [6, 19]],
[[12, 9], [5, 13]],
[[12, 8], [1, 18]],
[[12, 18]],
[[5, 6]],
[[16, 11]],
[[12, 13], [5, 1]],
[[13, 5], [9, 12]],
[[5, 10]],
[[15, 14]],
[[8, 11], [17, 1]],
[[1, 8]],
[[12, 17]],
[[4, 9], [19, 6]],
[[6, 2], [15, 18]],
[[16, 1]],
[[11, 16]],
[[4, 13]],
[[15, 13]],
[[16, 5]],
[[8, 1]],
[[16, 14]],
[[11, 2]],
[[3, 16], [17, 10], [8, 5]],
[[4, 17]],
[[19, 5], [3, 10]],
[[7, 18]],
[[11, 6]],
[[1, 2], [12, 16], [11, 15]],
[[15, 12]],
[[11, 10], [6, 14]],
[[3, 6]],
[[15, 7], [2, 13]],
[[10, 5]],
[[7, 17]],
[[6, 1], [11, 14]],
[[14, 16]],
[[17, 12]],
[[6, 11]],
[[18, 13]],
[[17, 7]],
[[6, 15]],
[[5, 19], [10, 3]],
[[14, 15]],
[[17, 11]],
[[18, 3]],
[[18, 12]],
[[7, 2]],
[[13, 18]],
[[5, 14]],
[[17, 6]],
[[6, 5]],
[[9, 16], [17, 5]],
[[13, 4]],
[[5, 18]],
[[14, 5]],
[[2, 12]],
[[1, 16]],
[[13, 8]],
[[5, 4]],
[[2, 7]],
[[5, 17], [16, 9]],
[[8, 14]],
[[9, 6]],
[[12, 2]],
[[16, 13]],
];

